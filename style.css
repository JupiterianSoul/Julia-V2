:root {
  --btn-bg: #e91e63;
  --btn-text: #fff;
  --btn-accent: #ff8ab3;
  --card-bg: rgba(255,255,255,0.12);
  --card-border: rgba(255,255,255,0.25);
}

/* Thèmes */
.theme-rose { --btn-bg:#e91e63; --btn-accent:#ff8ab3; }
.theme-bleu { --btn-bg:#3f51b5; --btn-accent:#8ea2ff; }
.theme-nocturne { --btn-bg:#222; --btn-accent:#555; }
.theme-pastel { --btn-bg:#ff9ecb; --btn-accent:#ffd1e6; }

/* Ciel selon l'heure */
body { margin:0; color:#fff; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif; }
body.sky-morning { background: linear-gradient(180deg,#f8bfbf 0%,#ffd9a5 50%,#fff7e6 100%); }
body.sky-day { background: linear-gradient(180deg,#74b9ff 0%,#a29bfe 100%); }
body.sky-sunset { background: linear-gradient(180deg,#ff6b6b 0%,#f7a072 50%,#ffd07f 100%); }
body.sky-night { background: radial-gradient(ellipse at top, #1b1b3a 0%, #0d0d1a 60%, #05050b 100%); }

/* Coeurs animés canvas */
#hearts-canvas { position:fixed; inset:0; pointer-events:none; z-index:0; }

/* Layout */
.topbar { position:sticky; top:0; z-index:10; backdrop-filter: blur(6px); background: rgba(0,0,0,0.15); }
.tabs { display:flex; gap:6px; padding:8px; justify-content:center; }
.tab { background: transparent; color:#fff; border:1px solid rgba(255,255,255,0.3); border-radius:999px; padding:8px 14px; cursor:pointer; }
.tab.active { background: rgba(255,255,255,0.2); }
.tab-dev { border-color: rgba(255,255,255,0.5); }

main { padding: 18px; max-width: 520px; margin: 0 auto; z-index:1; position:relative; }
.screen { display:none; }
.screen.active { display:block; }

.card {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 14px;
  padding: 16px;
  margin: 12px 0;
  backdrop-filter: blur(6px);
}
.kisses h2 { margin: 0 0 6px 0; }
.kisses-count { font-size: 1.2rem; margin: 6px 0 10px 0; }

.btn {
  border: none;
  border-radius: 10px;
  padding: 10px 14px;
  color: var(--btn-text);
  background: var(--btn-bg);
  cursor: pointer;
  transition: transform 0.05s ease, filter 0.2s ease;
  box-shadow: 0 6px 18px rgba(0,0,0,0.15);
}
.btn:hover { filter: brightness(1.05); }
.btn:active { transform: translateY(1px) scale(0.99); }

.btn.primary { background: var(--btn-bg); }
.btn.accent { background: linear-gradient(135deg, var(--btn-bg), var(--btn-accent)); }
.btn.warn { background: #ff9f1a; }
.btn.danger { background: #e74c3c; }
.btn.ghost { background: transparent; border:1px solid rgba(255,255,255,0.4); color:#fff; }

.compliment { margin: 8px 0 0 0; font-size: 1.1rem; }

/* Overlay popups */
.overlay { position:fixed; inset:0; background: rgba(0,0,0,0.45); display:flex; align-items:center; justify-content:center; z-index:20; }
.hidden { display:none; }
.popup {
  background:#fff; color:#222; width: min(92vw, 520px); border-radius: 14px;
  padding: 16px; box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}
.popup-large { width: min(92vw, 800px); }
.row { display:flex; gap:10px; margin: 8px 0; }
.end { justify-content:flex-end; }
.grid-2 { display:grid; grid-template-columns: 1fr; gap:16px; }
@media (min-width: 720px) { .grid-2 { grid-template-columns: 1fr 1fr; } }
.dev-block h3 { margin: 10px 0 6px 0; }
input, select { width:100%; padding:10px; border:1px solid #ddd; border-radius:10px; }

/* Calendar */
.calendar-header { display:flex; align-items:center; justify-content:space-between; gap:8px; margin: 10px 0; }
.calendar-grid {
  display:grid; gap:8px;
  grid-template-columns: repeat(7, 1fr);
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 12px; padding: 10px;
}
.cal-cell {
  aspect-ratio: 1 / 1.05;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 10px; padding: 6px; position:relative;
}
.cal-cell .day { font-weight: 700; opacity: 0.9; }
.cal-cell .badge {
  position:absolute; bottom:6px; left:6px; right:6px;
  font-size: 0.75rem; background: rgba(255,255,255,0.18);
  padding:2px 6px; border-radius: 999px; text-align:center;
}
.cal-head { opacity: 0.9; font-weight:700; text-align:center; }
.legend { margin: 10px 0; display:flex; gap:12px; align-items:center; }
.dot { display:inline-block; width:10px; height:10px; border-radius:50%; margin-right:6px; }
.dot.monthly { background:#ffca28; }
.dot.yearly { background:#66bb6a; }
.badge.monthly { background: #ffca28; color:#222; }
.badge.yearly { background: #66bb6a; color:#fff; }